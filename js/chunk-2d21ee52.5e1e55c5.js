(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ee52"],{d808:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","pa-1":""}},[a("v-toolbar",{attrs:{color:"white",light:""}},[a("v-toolbar-title",[t._v("Level 1 Challenge: Year/Month Heatmap")]),a("v-spacer")],1)],1),a("v-flex",{attrs:{xs12:"","pa-1":""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Input Data: "+t._s(t.file))])]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{attrs:{headers:t.headers,items:t.rawData,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.date))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.max_temperature))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.min_temperature))])]}}])})],1)],1)],1),a("v-flex",{attrs:{xs12:"","pa-1":""}},[a("v-card",[a("v-card-title",[a("div",[a("h3",{staticClass:"title mb-0"},[t._v("Year/Month Heatmap")]),a("v-label",[t._v("Display Value: "+t._s(t.displayProperty))])],1)]),a("v-card-actions",[a("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.changeDisplayProperty("max_temperature")}}},[t._v("MAX Temperature")]),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.changeDisplayProperty("min_temperature")}}},[t._v("MIN Temperature")])],1),a("v-card-text",{ref:"heatMapContainer"},[a("temperature-heat-map",{attrs:{height:t.container.height,width:t.container.width,rawData:t.rawData,"display-property":t.displayProperty}})],1)],1)],1)],1)},i=[],n=a("e814"),s=a.n(n),o=(a("96cf"),a("3b8d")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{overflow:"scroll"}})},c=[],d=(a("6b54"),a("28a5"),a("f499")),p=a.n(d),u=(a("c5f6"),{name:"TemperatureHeatMap",data:function(){return{processedData:null}},props:{rawData:{type:Array,required:!0},displayProperty:{type:String,required:!0},width:{type:Number,default:function(){return 500}},height:{type:Number,default:function(){return 500}},margin:{type:Object,default:function(){return{top:30,right:30,bottom:30,left:60}}}},watch:{displayProperty:function(){this.draw()},rawData:function(){this.draw()},width:function(){this.draw()},height:function(){this.draw()}},mounted:function(){this.draw()},methods:{validProps:function(){return this.rawData.length>0},draw:function(){if(this.validProps()){var t=this.d3,e=this.lodash,a=this.margin,r=this.width,i=this.height,n=this.$el,o=r-a.left-a.right,l=i-a.top-a.bottom,c=JSON.parse(p()(this.rawData)),d=this.displayProperty;while(n.firstChild)n.removeChild(n.firstChild);var u=t.select(n).append("svg").attr("width",r).attr("height",i).append("g").attr("transform","translate("+a.left+","+a.top+")"),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=e.orderBy(c,["date"]);this.processedData=e.chain(m).groupBy(function(t){return t.date.split("-")[0]+"-"+t.date.split("-")[1]}).map(function(t,e){var a=Math.max.apply(Math,t.map(function(t){return t.max_temperature})),r=Math.min.apply(Math,t.map(function(t){return t.min_temperature}));return{date:e,max_temperature:a,min_temperature:r}}).value(),console.log("processedData",this.processedData),console.log(m[0]);for(var f=s()(m[0].date.split("-")[0]),v=s()(m[m.length-1].date.split("-")[0]),w=[],y=f;y<=v;y++)w.push(y.toString());var b=t.scaleBand().range([0,o]).domain(w).padding(.1);u.append("g").call(t.axisTop(b));var g=t.scaleBand().range([0,l]).domain(h).padding(.1);u.append("g").call(t.axisLeft(g));var x=t.scaleQuantize().domain([0,40]).range(["#2c7bb6","#00a6ca","#00ccbc","#90eb9d","#ffff8c","#f9d057","#f29e2e","#e76818","#d7191c"]);t.select(".d3-tip").remove();var _=t.tip().attr("class","d3-tip").html(function(t){return"Date: "+t.date+"Max: "+t.max_temperature+" &#8451 Min: "+t.min_temperature+" &#8451"});u.call(_),u.selectAll().data(this.processedData).enter().append("rect").attr("x",function(t){return b(t.date.split("-")[0])}).attr("y",function(t){return g(h[s()(t.date.split("-")[1])-1])}).attr("width",b.bandwidth()).attr("height",g.bandwidth()).style("fill",function(t){return x(t[d])}).on("mouseover",_.show).on("mouseout",_.hide)}}}}),h=u,m=a("2877"),f=Object(m["a"])(h,l,c,!1,null,null,null),v=f.exports,w={name:"level1",components:{TemperatureHeatMap:v},data:function(){return{search:"",headers:[{text:"Date",value:"date",align:"center"},{text:"Max Temperature",value:"max_temperature",align:"center"},{text:"Min Temperature",value:"min_temperature",align:"center"}],rawData:[],file:"data/temperature_daily.csv",displayProperty:"max_temperature",container:{width:0,height:0},resizeID:null}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.d3.csv(this.file);case 2:this.rawData=t.sent,window.addEventListener("resize",this.onResize),this.initContainerSize();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{changeDisplayProperty:function(t){this.displayProperty=t},onResize:function(t){clearTimeout(this.resizeID),this.resizeID=setTimeout(this.initContainerSize,500)},initContainerSize:function(){this.container.width=this.$refs.heatMapContainer.clientWidth,this.container.height=s()(.8*this.container.width)}}},y=w,b=a("6544"),g=a.n(b),x=a("8336"),_=a("b0af"),D=a("99d9"),C=a("12b2"),M=a("8fea"),T=a("0e8f"),V=a("24c9"),z=a("a722"),P=a("9910"),S=a("2677"),k=a("71d9"),A=a("2a7f"),J=Object(m["a"])(y,r,i,!1,null,"7d109e46",null);e["default"]=J.exports;g()(J,{VBtn:x["a"],VCard:_["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:C["a"],VDataTable:M["a"],VFlex:T["a"],VLabel:V["a"],VLayout:z["a"],VSpacer:P["a"],VTextField:S["a"],VToolbar:k["a"],VToolbarTitle:A["b"]})}}]);
//# sourceMappingURL=chunk-2d21ee52.5e1e55c5.js.map